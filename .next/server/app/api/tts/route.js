"use strict";(()=>{var e={};e.id=706,e.ids=[706],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5853:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var o={};r.r(o),r.d(o,{POST:()=>u});var a=r(3278),s=r(5002),i=r(4877),n=r(1309);let p="5ab34dfe-96b4-11ef-a80e-00163e00134a";async function u(e){try{let t=await e.json(),r=t.text.slice(0,500),o=t.speaker||p;if(!o)throw Error("No speaker ID provided or configured");let a={text:r,speaker:o,language:t.language||"en",output_format:t.output_format||"mp3",speed:t.speed||1,stability:t.stability||.5,similarity:t.similarity||.75};console.log("\uD83D\uDCDD Making request to TopMediaAI:",{url:"https://api.topmediai.com/v1/text2speech",apiKey:"Present",body:a,originalLength:t.text.length,truncatedLength:r.length});let s=await fetch("https://api.topmediai.com/v1/text2speech",{method:"POST",headers:{"x-api-key":"e5fd1267a6ef4c58a8c53e463acf1acf","Content-Type":"application/json"},body:JSON.stringify(a)}),i=await s.text();if(console.log("\uD83D\uDCE1 TopMediaAI Response:",{status:s.status,text:i}),!s.ok)throw Error(`TTS API error: ${s.status}
${i}`);try{let e=JSON.parse(i);return n.NextResponse.json(e)}catch(e){throw Error(`Invalid JSON response: ${i}`)}}catch(e){return console.error("❌ TTS Route Error:",e),n.NextResponse.json({error:"TTS Service Error",details:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()},{status:500})}}p||console.warn("⚠️ No voice ID configured in env variables");let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/tts/route",pathname:"/api/tts",filename:"route",bundlePath:"app/api/tts/route"},resolvedPagePath:"C:\\Users\\PC\\Desktop\\backup\\SEC Chat\\app\\api\\tts\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h}=c,g="/api/tts/route";function m(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[787,833],()=>r(5853));module.exports=o})();